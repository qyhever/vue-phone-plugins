(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cube-scroll"],{"05bb":function(t,s,e){},"4ab5":function(t,s,e){"use strict";e.r(s);var o=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"scroll-wrapper"},[o("cube-scroll",{ref:"scrollContainer",staticClass:"cube-scroll",attrs:{data:t.list,options:t.options,scrollEvents:["scroll"]},on:{"pulling-down":t.onPullingDown,"pulling-up":t.onPullingUp,scroll:t.onScroll}},t._l(t.list,(function(s,e){return o("div",{key:e,staticClass:"item",on:{click:t.onItemClick}},[o("b",[t._v(t._s(e+1))]),o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.imgurl,expression:"item.imgurl"}],staticClass:"avatar",attrs:{alt:"avatar"}}),o("p",[t._v(t._s(s.dissname))])])})),0),o("transition",{attrs:{name:"van-fade"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.backtopVisible,expression:"backtopVisible"}],staticClass:"back-top",on:{click:t.onBacktop}},[o("img",{attrs:{src:e("f007"),alt:"backtop"}})])])],1)},n=[],l=e("b775"),i={txt:{more:"加载中...",noMore:"我是有底线的"}},a={data:function(){return{list:[],pager:{page:1,size:10},options:{scrollbar:!0,pullDownRefresh:{txt:"更新成功"},pullUpLoad:i},allLoaded:!1,backtopOffset:1e3,backtopVisible:!1}},mounted:function(){this.query()},methods:{getInstance:function(){return this.$refs.scrollContainer.scroll},refresh:function(){this.$refs.scrollContainer.refresh()},onScroll:function(t){var s=t.y;this.backtopVisible=Math.abs(s)>=this.backtopOffset},onBacktop:function(){this.$refs.scrollContainer.scrollTo(0,0,500)},onPullingDown:function(){this.allLoaded=!1,this.pager.page=1,this.query()},onPullingUp:function(){this.allLoaded?this.$refs.scrollContainer.forceUpdate(!0,!0):(this.pager.page+=1,this.query())},query:function(){},afterQuery:function(t,s){1===this.pager.page?this.list=t:this.list=this.list.concat(t),this.list.length===s&&(this.allLoaded=!0,this.$refs.scrollContainer.forceUpdate(!0,!0))}}},r={name:"CubeScrollPage",mixins:[a],data:function(){return{}},beforeRouteEnter:function(t,s,e){"/home"===s.path?e((function(t){t.$refs.scrollContainer&&t.$refs.scrollContainer.scrollTo(0,0,0)})):e()},methods:{query:function(){var t=this;Object(l["a"])({url:"https://qyhever.com/common/disc",params:this.pager}).then((function(s){var e=s.list||[],o=s.total||0;1===t.pager.page?t.list=e:t.list=t.list.concat(e),t.list.length===o&&(t.allLoaded=!0,t.$refs.scrollContainer.forceUpdate(!0,!0))}))},onItemClick:function(){this.$router.push({path:"/cube-scroll-detail"})}}},c=r,u=(e("c6cd"),e("2877")),p=Object(u["a"])(c,o,n,!1,null,"9c9033b6",null);s["default"]=p.exports},c6cd:function(t,s,e){"use strict";var o=e("05bb"),n=e.n(o);n.a}}]);
//# sourceMappingURL=cube-scroll.36bba2a2.js.map