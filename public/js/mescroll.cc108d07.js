(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"0neG":function(t,e,c){"use strict";c.r(e);function s(){var s=this,t=s.$createElement,c=s._self._c||t;return c("div",{staticClass:"wrapper"},[c("mescroll",{ref:"mescroll",attrs:{down:s.mescrollDown,up:s.mescrollUp},on:{init:s.mescrollInit}},[s._l(s.list,function(t,e){return c("div",{key:e,staticClass:"item"},[c("b",[s._v(s._s(e+1))]),s._v(" "),c("img",{staticClass:"avatar",attrs:{"data-src":t.imgurl,src:"http://www.mescroll.com/demo/res/img/loading2.gif",alt:"avatar"}}),s._v(" "),c("p",[s._v(s._s(t.dissname))])])}),s._v(" "),c("div",{attrs:{id:"empty"}})],2)],1)}s._withStripped=!0;var l=c("vDqi"),o=c.n(l),n=c("7Qib"),a={data:function(){return this.mescroll=null,{list:[],params:{searchKey:""},mescrollDown:{mustToTop:!(this.backTopDom=null)},mescrollUp:{isBounce:!1,callback:this.upCallback,htmlNodata:'<div class="weui-loadmore weui-loadmore_line">\n                      <span class="weui-loadmore__tips">我是有底线的</span>\n                    </div>',empty:{warpId:"empty",icon:c("8/bI"),tip:"暂无数据"},lazyLoad:{use:!0,attr:"data-src"},onScroll:this.onScroll},backTopVisible:!1}},mounted:function(){var s=this;this.$nextTick(function(){s.scrollDom=document.querySelector(".mescroll");var t=document.createElement("div");t.className="back-top";var e=document.createElement("img");e.src=c("8AcS"),t.appendChild(e),document.body.appendChild(t),(s.backTopDom=t).addEventListener("click",function(){Object(n.b)(s.mescroll.getScrollTop(),0,10,function(t){s.scrollDom.scrollTop=t})})})},methods:{fetchData:function(t){var e=this;return this.$loading.open(),o()({url:"http://qyhever.com/disc",params:Object.assign({},t,this.params)}).then(function(t){return t.data.data}).finally(function(){e.$loading.close()})},mescrollInit:function(t){this.mescroll=t},upCallback:function(e,s){var c=this;this.fetchData({page:e.num,count:e.size}).then(function(t){t.length||c.mescroll.lockDownScroll(!0),1===e.num?c.list=t:c.list=c.list.concat(t),c.$nextTick(function(){s.endSuccess(t.length)})}).catch(function(){s.endErr()})},handleSearch:function(){this.params.searchKey="346092346",this.mescroll.resetUpScroll(!0)},onScroll:function(t,e){1e3<=e?this.backTopDom.classList.add("show"):this.backTopDom.classList.remove("show")}}},i=(c("JXTt"),c("KHd+")),r=Object(i.a)(a,s,[],!1,null,"32f8e5ff",null);r.options.__file="src/views/mescroll.vue";e.default=r.exports},JXTt:function(t,e,s){"use strict";var c=s("UePM");s.n(c).a},UePM:function(t,e,s){}}]);
//# sourceMappingURL=mescroll.cc108d07.js.map