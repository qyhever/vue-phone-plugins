(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"3Bww":function(t,a,s){"use strict";var o=s("KivM");s.n(o).a},KivM:function(t,a,s){},SrXp:function(t,a,o){"use strict";o.r(a);function s(){var s=this,t=s.$createElement,o=s._self._c||t;return o("div",{staticClass:"scroll-list-wrap"},[o("cube-scroll",{ref:"scroll",attrs:{data:s.list,options:s.options,scrollEvents:["scroll"]},on:{"pulling-down":s.onPullingDown,"pulling-up":s.onPullingUp,scroll:s.onScroll}},[s._l(s.list,function(t,a){return o("div",{key:a,staticClass:"item"},[o("b",[s._v(s._s(a+1))]),s._v(" "),o("img",{staticClass:"avatar",attrs:{src:t.imgurl,alt:"avatar"}}),s._v(" "),o("p",[s._v(s._s(t.dissname))])])}),s._v(" "),s.allLoaded?o("div",{staticClass:"weui-loadmore weui-loadmore_line"},[o("span",{staticClass:"weui-loadmore__tips"},[s._v("我是有底线的")])]):s._e()],2)],1)}s._withStripped=!0;var e=o("vDqi"),n=o.n(e),i=o("7Qib"),l={name:"cube-scroll-page",data:function(){return{list:[],params:{page:1,count:10},pullDownRefreshThreshold:60,allLoaded:!1,options:{pullDownRefresh:{threshold:90,stopTime:0,txt:" "},pullUpLoad:!0}}},mounted:function(){var t=this;this.query(!0),this.$nextTick(function(){t.createBackTop()})},methods:{fetchData:function(){var t=this;return this.$loading.open(),n()({url:"http://qyhever.com/disc",params:Object.assign({},this.params)}).then(function(t){return t.data.data}).finally(function(){t.$loading.close()})},query:function(a){var s=this;this.fetchData().then(function(t){1===s.params.page?(s.list=t,a||(s.$refs.scroll.disable(),setTimeout(function(){s.$refs.scroll.enable()},600))):s.list=s.list.concat(t),t.length<s.params.count&&(s.allLoaded=!0,s.options.pullUpLoad=!1)})},onPullingDown:function(){this.params.page=1,this.allLoaded=!1,this.options.pullUpLoad=!0,this.query()},onPullingUp:function(){this.params.page=this.params.page+1,this.query()},onScroll:function(t){var a=t.y;1e3<=Math.abs(a)?Object(i.a)(this.backTopDom,"show"):Object(i.c)(this.backTopDom,"show")},createBackTop:function(){var t=this,a=document.createElement("div");a.className="back-top";var s=document.createElement("img");s.src=o("8AcS"),a.appendChild(s),document.body.appendChild(a),(this.backTopDom=a).addEventListener("click",function(){t.$refs.scroll.scrollTo(0,0,500)})}}},c=(o("3Bww"),o("KHd+")),r=Object(c.a)(l,s,[],!1,null,"6883068a",null);r.options.__file="src/views/cube-scroll.vue";a.default=r.exports}}]);
//# sourceMappingURL=cube-scroll.90b29715.js.map