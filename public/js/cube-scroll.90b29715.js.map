{"version":3,"sources":["webpack:///./src/views/cube-scroll.vue?3ecb","webpack:///./src/views/cube-scroll.vue?7842","webpack:///./src/views/cube-scroll.vue?f450","webpack:///src/views/cube-scroll.vue","webpack:///./src/views/cube-scroll.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","data","list","options","scrollEvents","on","onPullingDown","onPullingUp","scroll","onScroll","_l","item","index","key","_v","_s","src","imgurl","alt","dissname","allLoaded","_e","_withStripped","component","__file"],"mappings":"6FAAA,uBAA4gB,G,gECA/f,SAATA,IACF,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACTC,EAAKJ,EAAIK,MAAMD,IAAMF,EACzB,OAAOE,EACL,MACA,CAAEE,YAAa,oBACf,CACEF,EACE,cACA,CACEG,IAAK,SACLC,MAAO,CACLC,KAAMT,EAAIU,KACVC,QAASX,EAAIW,QACbC,aAAc,CAAC,WAEjBC,GAAI,CACF,eAAgBb,EAAIc,cACpB,aAAcd,EAAIe,YAClBC,OAAQhB,EAAIiB,WAGhB,CACEjB,EAAIkB,GAAGlB,EAAIU,KAAM,SAASS,EAAMC,GAC9B,OAAOhB,EAAG,MAAO,CAAEiB,IAAKD,EAAOd,YAAa,QAAU,CACpDF,EAAG,IAAK,CAACJ,EAAIsB,GAAGtB,EAAIuB,GAAGH,EAAQ,MAC/BpB,EAAIsB,GAAG,KACPlB,EAAG,MAAO,CACRE,YAAa,SACbE,MAAO,CAAEgB,IAAKL,EAAKM,OAAQC,IAAK,YAElC1B,EAAIsB,GAAG,KACPlB,EAAG,IAAK,CAACJ,EAAIsB,GAAGtB,EAAIuB,GAAGJ,EAAKQ,iBAGhC3B,EAAIsB,GAAG,KACPtB,EAAI4B,UACAxB,EAAG,MAAO,CAAEE,YAAa,oCAAsC,CAC7DF,EAAG,OAAQ,CAAEE,YAAa,uBAAyB,CACjDN,EAAIsB,GAAG,cAGXtB,EAAI6B,MAEV,IAGJ,GAIJ9B,EAAO+B,eAAgB,E,qCCpDgL,EC4CvM,CACE,KAAF,mBACE,KAFF,WAGI,MAAJ,CACM,KAAN,GACM,OAAN,CACQ,KAAR,EACQ,MAAR,IAEM,yBAAN,GACM,WAAN,EACM,QAAN,CACQ,gBAAR,CACU,UAAV,GACU,SAAV,EACU,IAAV,KAEQ,YAAR,KAIE,QArBF,WAqBI,IAAJ,OACI,KAAJ,UACI,KAAJ,qBACM,EAAN,mBAGE,QAAF,CACI,UADJ,WACM,IAAN,OAEM,OADA,KAAN,gBACA,KACQ,IAAR,0BACQ,OAAR,gCAEA,iBACQ,OAAR,cAEA,mBACQ,EAAR,oBAGI,MAdJ,SAcA,GAAM,IAAN,OACM,KAAN,6BACA,mBACU,EAAV,OACA,IACY,EAAZ,uBACY,WAAZ,WACc,EAAd,uBACA,OAMU,EAAV,sBAEA,0BACU,EAAV,aACU,EAAV,0BAII,cApCJ,WAqCM,KAAN,cACM,KAAN,aACM,KAAN,sBACM,KAAN,SAEI,YA1CJ,WA2CM,KAAN,+BACM,KAAN,SAEI,SA9CJ,YA8CM,IAAN,MACA,iBACQ,OAAR,IAAQ,CAAR,wBAEQ,OAAR,IAAQ,CAAR,yBAII,cAtDJ,WAsDM,IAAN,OACA,gCACM,EAAN,qBACM,IAAN,gCACM,EAAN,cACM,EAAN,eACM,SAAN,qBACM,KAAN,cACA,oCACQ,EAAR,oC,wBC9HIC,EAAY,YACd,EACAhC,EHyCoB,IGvCpB,EACA,KACA,WACA,MAuBFgC,EAAUpB,QAAQqB,OAAS,4BACZ,UAAAD,E","file":"public/js/cube-scroll.90b29715.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js??ref--9-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-2!../../node_modules/less-loader/dist/cjs.js??ref--9-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--9-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cube-scroll.vue?vue&type=style&index=0&id=6883068a&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js??ref--9-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-2!../../node_modules/less-loader/dist/cjs.js??ref--9-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--9-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cube-scroll.vue?vue&type=style&index=0&id=6883068a&lang=less&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"scroll-list-wrap\" },\n    [\n      _c(\n        \"cube-scroll\",\n        {\n          ref: \"scroll\",\n          attrs: {\n            data: _vm.list,\n            options: _vm.options,\n            scrollEvents: [\"scroll\"]\n          },\n          on: {\n            \"pulling-down\": _vm.onPullingDown,\n            \"pulling-up\": _vm.onPullingUp,\n            scroll: _vm.onScroll\n          }\n        },\n        [\n          _vm._l(_vm.list, function(item, index) {\n            return _c(\"div\", { key: index, staticClass: \"item\" }, [\n              _c(\"b\", [_vm._v(_vm._s(index + 1))]),\n              _vm._v(\" \"),\n              _c(\"img\", {\n                staticClass: \"avatar\",\n                attrs: { src: item.imgurl, alt: \"avatar\" }\n              }),\n              _vm._v(\" \"),\n              _c(\"p\", [_vm._v(_vm._s(item.dissname))])\n            ])\n          }),\n          _vm._v(\" \"),\n          _vm.allLoaded\n            ? _c(\"div\", { staticClass: \"weui-loadmore weui-loadmore_line\" }, [\n                _c(\"span\", { staticClass: \"weui-loadmore__tips\" }, [\n                  _vm._v(\"我是有底线的\")\n                ])\n              ])\n            : _vm._e()\n        ],\n        2\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/happypack/loader.js?id=happy-babel-js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cube-scroll.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/happypack/loader.js?id=happy-babel-js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cube-scroll.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"scroll-list-wrap\">\n    <cube-scroll\n      ref=\"scroll\"\n      :data=\"list\"\n      :options=\"options\"\n      :scrollEvents=\"['scroll']\"\n      @pulling-down=\"onPullingDown\"\n      @pulling-up=\"onPullingUp\"\n      @scroll=\"onScroll\">\n      <div class=\"item\" v-for=\"(item, index) in list\" :key=\"index\">\n        <b>{{index+1}}</b>\n        <img class=\"avatar\" :src=\"item.imgurl\" alt=\"avatar\">\n        <p>{{item.dissname}}</p>\n      </div>\n      <div class=\"weui-loadmore weui-loadmore_line\" v-if=\"allLoaded\">\n        <span class=\"weui-loadmore__tips\">我是有底线的</span>\n      </div>\n      <!--<template slot=\"pulldown\" slot-scope=\"props\">-->\n        <!--<div-->\n          <!--v-if=\"props.pullDownRefresh\"-->\n          <!--class=\"cube-pulldown-wrapper\"-->\n          <!--:style=\"props.pullDownStyle\">-->\n          <!--<div-->\n            <!--v-show=\"props.beforePullDown\"-->\n            <!--class=\"before-trigger\"-->\n            <!--:style=\"{paddingTop: props.bubbleY + 'px'}\">-->\n            <!--<span :class=\"{rotate: props.bubbleY > pullDownRefreshThreshold - 40}\">↓</span>-->\n          <!--</div>-->\n          <!--<div class=\"after-trigger\" v-show=\"!props.beforePullDown\">-->\n            <!--<div v-show=\"props.isPullingDown\" class=\"loading\">-->\n              <!--<cube-loading></cube-loading>-->\n            <!--</div>-->\n            <!--<div v-show=\"!props.isPullingDown\" class=\"text\"><span class=\"refresh-text\">更新成功</span></div>-->\n          <!--</div>-->\n        <!--</div>-->\n      <!--</template>-->\n    </cube-scroll>\n  </div>\n</template>\n\n<script>\n  import axios from 'axios'\n  import { addClass, removeClass } from '@/utils'\n  export default {\n    name: 'cube-scroll-page',\n    data() {\n      return {\n        list: [],\n        params: {\n          page: 1,\n          count: 10\n        },\n        pullDownRefreshThreshold: 60,\n        allLoaded: false,\n        options: {\n          pullDownRefresh: {\n            threshold: 90,\n            stopTime: 0,\n            txt: ' '\n          },\n          pullUpLoad: true\n        }\n      }\n    },\n    mounted() {\n      this.query(true)\n      this.$nextTick(() => {\n        this.createBackTop()\n      })\n    },\n    methods: {\n      fetchData() {\n        this.$loading.open()\n        return axios({\n          url: 'http://qyhever.com/disc',\n          params: Object.assign({}, this.params)\n        })\n          .then(res => {\n            return res.data.data\n          })\n          .finally(() => {\n            this.$loading.close()\n          })\n      },\n      query(first) {\n        this.fetchData().then(list => {\n          if (this.params.page === 1) {\n            this.list = list\n            if (!first) {\n              this.$refs.scroll.disable()\n              setTimeout(() => {\n                this.$refs.scroll.enable()\n              }, 600)\n            }\n            // this.$nextTick(() => {\n            //   this.$refs.scroll.refresh()\n            // })\n          } else {\n            this.list = this.list.concat(list)\n          }\n          if (list.length < this.params.count) {\n            this.allLoaded = true\n            this.options.pullUpLoad = false\n          }\n        })\n      },\n      onPullingDown() {\n        this.params.page = 1\n        this.allLoaded = false\n        this.options.pullUpLoad = true\n        this.query()\n      },\n      onPullingUp() {\n        this.params.page = this.params.page + 1\n        this.query()\n      },\n      onScroll({y}) {\n        if (Math.abs(y) >= 1000) {\n          addClass(this.backTopDom, 'show')\n        } else {\n          removeClass(this.backTopDom, 'show')\n        }\n      },\n      // 创建 返回顶部 按钮\n      createBackTop() {\n        const backTopDom = document.createElement('div')\n        backTopDom.className = 'back-top'\n        const imgDom = document.createElement('img')\n        imgDom.src = require('@/assets/images/back-top.png')\n        backTopDom.appendChild(imgDom)\n        document.body.appendChild(backTopDom)\n        this.backTopDom = backTopDom\n        backTopDom.addEventListener('click', () => {\n          this.$refs.scroll.scrollTo(0, 0, 500)\n        })\n      }\n    }\n  }\n</script>\n<style lang=\"less\" scoped>\n  .cube-pulldown-wrapper {\n    .before-trigger  {\n      font-size: 30px;\n      line-height: 30px;\n      align-self: flex-end;\n      span {\n        display: inline-block;\n        transition: all 0.3s;\n        color: #666;\n        &.rotate {\n          transform: rotate(180deg);\n        }\n      }\n    }\n    .after-trigger {\n      .refresh-text {\n        color: grey;\n      }\n    }\n  }\n  .scroll-list-wrap {\n    position: fixed;\n    top: 46px;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    transform: rotate(0deg); // fix 子元素超出边框圆角部分不隐藏的问题\n    overflow: hidden;\n    background-color: #fff;\n  }\n  .weui-loadmore {\n    background-color: #fff;\n  }\n  .item {\n    display: flex;\n    align-items: center;\n    padding: 0 20px 20px;\n    background-color: #fff;\n  }\n  .item:first-of-type {\n    padding-top: 20px;\n  }\n  .avatar {\n    width: 60px;\n    height: 60px;\n  }\n  .item b {\n    margin-right: 12px;\n  }\n  .item p {\n    margin-left: 12px;\n  }\n</style>\n","import { render, staticRenderFns } from \"./cube-scroll.vue?vue&type=template&id=6883068a&scoped=true&\"\nimport script from \"./cube-scroll.vue?vue&type=script&lang=js&\"\nexport * from \"./cube-scroll.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cube-scroll.vue?vue&type=style&index=0&id=6883068a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6883068a\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\await\\\\vue-phone\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('6883068a', component.options)\n    } else {\n      api.reload('6883068a', component.options)\n    }\n    module.hot.accept(\"./cube-scroll.vue?vue&type=template&id=6883068a&scoped=true&\", function () {\n      api.rerender('6883068a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/cube-scroll.vue\"\nexport default component.exports"],"sourceRoot":""}