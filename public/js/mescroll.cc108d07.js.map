{"version":3,"sources":["webpack:///./src/views/mescroll.vue?8f62","webpack:///./src/views/mescroll.vue?ebac","webpack:///src/views/mescroll.vue","webpack:///./src/views/mescroll.vue","webpack:///./src/views/mescroll.vue?924a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","down","mescrollDown","up","mescrollUp","on","init","mescrollInit","_l","list","item","index","key","_v","_s","imgurl","src","alt","dissname","id","_withStripped","component","options","__file"],"mappings":"oGAAa,SAATA,IACF,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACTC,EAAKJ,EAAIK,MAAMD,IAAMF,EACzB,OAAOE,EACL,MACA,CAAEE,YAAa,WACf,CACEF,EACE,WACA,CACEG,IAAK,WACLC,MAAO,CAAEC,KAAMT,EAAIU,aAAcC,GAAIX,EAAIY,YACzCC,GAAI,CAAEC,KAAMd,EAAIe,eAElB,CACEf,EAAIgB,GAAGhB,EAAIiB,KAAM,SAASC,EAAMC,GAC9B,OAAOf,EAAG,MAAO,CAAEgB,IAAKD,EAAOb,YAAa,QAAU,CACpDF,EAAG,IAAK,CAACJ,EAAIqB,GAAGrB,EAAIsB,GAAGH,EAAQ,MAC/BnB,EAAIqB,GAAG,KACPjB,EAAG,MAAO,CACRE,YAAa,SACbE,MAAO,CACL,WAAYU,EAAKK,OACjBC,IAAK,oDACLC,IAAK,YAGTzB,EAAIqB,GAAG,KACPjB,EAAG,IAAK,CAACJ,EAAIqB,GAAGrB,EAAIsB,GAAGJ,EAAKQ,iBAGhC1B,EAAIqB,GAAG,KACPjB,EAAG,MAAO,CAAEI,MAAO,CAAEmB,GAAI,YAE3B,IAGJ,GAIJ5B,EAAO6B,eAAgB,E,qCC1C6K,ECiBpM,CACE,KADF,WAII,OAFA,KAAJ,cAEA,CACM,KAAN,GACM,OAAN,CACQ,UAAR,IAEM,aAAN,CACQ,YAPJ,KAAJ,kBASM,WAAN,CACQ,UAAR,EACQ,SAAR,gBACQ,WAAR,oJAOQ,MAAR,CAEU,OAAV,QACU,KAAV,UACU,IAAV,QAEQ,SAAR,CACU,KAAV,EACU,KAAV,YAEQ,SAAR,eAEM,gBAAN,IAGE,QArCF,WAqCI,IAAJ,OACI,KAAJ,qBACM,EAAN,8CACM,IAAN,gCACM,EAAN,qBACM,IAAN,gCACM,EAAN,cACM,EAAN,eACM,SAAN,qBACM,EAAN,cACA,oCACQ,OAAR,IAAQ,CAAR,2CACU,EAAV,6BAKE,QAAF,CACI,UADJ,SACA,GAAM,IAAN,OAEM,OADA,KAAN,gBACA,KACQ,IAAR,0BACQ,OAAR,kCAEA,iBACQ,OAAR,cAEA,mBACQ,EAAR,oBAGI,aAdJ,SAcA,GACM,KAAN,YAEI,WAjBJ,SAiBA,KAAM,IAAN,OACM,KAAN,WACQ,KAAR,MACQ,MAAR,SAEA,iBACA,UAEU,EAAV,4BAEA,UACU,EAAV,OAEU,EAAV,sBAEQ,EAAR,qBACU,EAAV,yBAGA,iBACQ,EAAR,YAGI,aAxCJ,WAyCM,KAAN,6BACM,KAAN,4BAEI,SA5CJ,SA4CA,KACA,OACQ,KAAR,iCAEQ,KAAR,uC,wBC/GIC,EAAY,YACd,EACA9B,EH+BoB,IG7BpB,EACA,KACA,WACA,MAuBF8B,EAAUC,QAAQC,OAAS,yBACZ,UAAAF,E,2CCvCf,uBAAygB,G","file":"public/js/mescroll.cc108d07.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"wrapper\" },\n    [\n      _c(\n        \"mescroll\",\n        {\n          ref: \"mescroll\",\n          attrs: { down: _vm.mescrollDown, up: _vm.mescrollUp },\n          on: { init: _vm.mescrollInit }\n        },\n        [\n          _vm._l(_vm.list, function(item, index) {\n            return _c(\"div\", { key: index, staticClass: \"item\" }, [\n              _c(\"b\", [_vm._v(_vm._s(index + 1))]),\n              _vm._v(\" \"),\n              _c(\"img\", {\n                staticClass: \"avatar\",\n                attrs: {\n                  \"data-src\": item.imgurl,\n                  src: \"http://www.mescroll.com/demo/res/img/loading2.gif\",\n                  alt: \"avatar\"\n                }\n              }),\n              _vm._v(\" \"),\n              _c(\"p\", [_vm._v(_vm._s(item.dissname))])\n            ])\n          }),\n          _vm._v(\" \"),\n          _c(\"div\", { attrs: { id: \"empty\" } })\n        ],\n        2\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/happypack/loader.js?id=happy-babel-js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mescroll.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/happypack/loader.js?id=happy-babel-js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mescroll.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"wrapper\">\r\n    <!-- <cube-button @touchstart.native=\"handleSearch\">按钮</cube-button> -->\r\n    <mescroll ref=\"mescroll\" :down=\"mescrollDown\" :up=\"mescrollUp\" @init=\"mescrollInit\">\r\n      <div class=\"item\" v-for=\"(item, index) in list\" :key=\"index\">\r\n        <b>{{index+1}}</b>\r\n        <img class=\"avatar\" :data-src=\"item.imgurl\" src=\"http://www.mescroll.com/demo/res/img/loading2.gif\" alt=\"avatar\">\r\n        <p>{{item.dissname}}</p>\r\n      </div>\r\n      <div id=\"empty\"></div>\r\n    </mescroll>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import axios from 'axios'\r\n  import { easeout } from '@/utils'\r\n  export default {\r\n    data() {\r\n      this.mescroll = null\r\n      this.backTopDom = null\r\n      return {\r\n        list: [],\r\n        params: {\r\n          searchKey: ''\r\n        },\r\n        mescrollDown: {\r\n          mustToTop: true\r\n        },\r\n        mescrollUp: {\r\n          isBounce: false,\r\n          callback: this.upCallback,\r\n          htmlNodata: `<div class=\"weui-loadmore weui-loadmore_line\">\r\n                        <span class=\"weui-loadmore__tips\">我是有底线的</span>\r\n                      </div>`,\r\n          // toTop: {\r\n          //   src: require('@/assets/images/back-top.png'),\r\n          //   duration: 500\r\n          // },\r\n          empty: {\r\n            // 必须给一个 容器 ID\r\n            warpId: 'empty',\r\n            icon: require('@/assets/images/empty.png'),\r\n            tip: '暂无数据'\r\n          },\r\n          lazyLoad: {\r\n            use: true,\r\n            attr: 'data-src'\r\n          },\r\n          onScroll: this.onScroll\r\n        },\r\n        backTopVisible: false\r\n      }\r\n    },\r\n    mounted() {\r\n      this.$nextTick(() => {\r\n        this.scrollDom = document.querySelector('.mescroll')\r\n        const backTopDom = document.createElement('div')\r\n        backTopDom.className = 'back-top'\r\n        const imgDom = document.createElement('img')\r\n        imgDom.src = require('@/assets/images/back-top.png')\r\n        backTopDom.appendChild(imgDom)\r\n        document.body.appendChild(backTopDom)\r\n        this.backTopDom = backTopDom\r\n        backTopDom.addEventListener('click', () => {\r\n          easeout(this.mescroll.getScrollTop(), 0, 10, val => {\r\n            this.scrollDom.scrollTop = val\r\n          })\r\n        })\r\n      })\r\n    },\r\n    methods: {\r\n      fetchData(data) {\r\n        this.$loading.open()\r\n        return axios({\r\n          url: 'http://qyhever.com/disc',\r\n          params: Object.assign({}, data, this.params)\r\n        })\r\n        .then(res => {\r\n          return res.data.data\r\n        })\r\n        .finally(() => {\r\n          this.$loading.close()\r\n        })\r\n      },\r\n      mescrollInit(mescroll) {\r\n        this.mescroll = mescroll\r\n      },\r\n      upCallback(pager, mescroll) {\r\n        this.fetchData({\r\n          page: pager.num,\r\n          count: pager.size\r\n        })\r\n        .then(list => {\r\n          if (!list.length) {\r\n            // 锁定下拉刷新\r\n            this.mescroll.lockDownScroll(true)\r\n          }\r\n          if (pager.num === 1) {\r\n            this.list = list\r\n          } else {\r\n            this.list = this.list.concat(list)\r\n          }\r\n          this.$nextTick(() => {\r\n            mescroll.endSuccess(list.length)\r\n          })\r\n        })\r\n        .catch(() => {\r\n          mescroll.endErr()\r\n        })\r\n      },\r\n      handleSearch() {\r\n        this.params.searchKey = '346092346'\r\n        this.mescroll.resetUpScroll(true)\r\n      },\r\n      onScroll(_, y) {\r\n        if (y >= 1000) {\r\n          this.backTopDom.classList.add('show')\r\n        } else {\r\n          this.backTopDom.classList.remove('show')\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .wrapper {\r\n    position: fixed;\r\n    top: 46px;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n  }\r\n  .fade-enter,\r\n  .fade-leave-active {\r\n    opacity: 0;\r\n  }\r\n  .back-top {\r\n    position: fixed;\r\n    right: 20px;\r\n    bottom: 20px;\r\n    width: 40px;\r\n    height: 40px;\r\n    transition: opacity .3s;\r\n    img {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n  .item {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0 20px 20px;\r\n  }\r\n  .item:first-of-type {\r\n    padding-top: 20px;\r\n  }\r\n  .avatar {\r\n    width: 60px;\r\n    height: 60px;\r\n  }\r\n  .item b {\r\n    margin-right: 12px;\r\n  }\r\n  .item p {\r\n    margin-left: 12px;\r\n  }\r\n</style>\r\n","import { render, staticRenderFns } from \"./mescroll.vue?vue&type=template&id=32f8e5ff&scoped=true&\"\nimport script from \"./mescroll.vue?vue&type=script&lang=js&\"\nexport * from \"./mescroll.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mescroll.vue?vue&type=style&index=0&id=32f8e5ff&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32f8e5ff\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\await\\\\vue-phone\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('32f8e5ff', component.options)\n    } else {\n      api.reload('32f8e5ff', component.options)\n    }\n    module.hot.accept(\"./mescroll.vue?vue&type=template&id=32f8e5ff&scoped=true&\", function () {\n      api.rerender('32f8e5ff', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/mescroll.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js??ref--9-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-2!../../node_modules/less-loader/dist/cjs.js??ref--9-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--9-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mescroll.vue?vue&type=style&index=0&id=32f8e5ff&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js??ref--9-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-2!../../node_modules/less-loader/dist/cjs.js??ref--9-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--9-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mescroll.vue?vue&type=style&index=0&id=32f8e5ff&lang=less&scoped=true&\""],"sourceRoot":""}